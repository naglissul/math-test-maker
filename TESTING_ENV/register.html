<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Register User</title>
    <!-- Ensure modules are correctly specified if directly included from CDN -->
    <script type="module">
      // Import Firebase modules using ES module imports
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
      } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDE6Yx4cXghxsn6FKOVEXYN8aavEzOipWA",
        authDomain: "kontrass.firebaseapp.com",
        databaseURL:
          "https://kontrass-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "kontrass",
        storageBucket: "kontrass.appspot.com",
        messagingSenderId: "691360022307",
        appId: "1:691360022307:web:b8d0cae3fd88b38e275696",
      };
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth();

      window.registerUser = async (email, password) => {
        try {
          const userCredential = await createUserWithEmailAndPassword(
            auth,
            email,
            password
          );
          console.log("User registered successfully!", userCredential.user);
          alert("Registration successful!");
        } catch (error) {
          console.error("Error registering user:", error);
          alert("Error: " + error.message);
        }
      };
    </script>
  </head>
  <body>
    <h1>Register New Admin</h1>
    <input type="email" id="email" placeholder="Enter email" /><br />
    <input type="password" id="password" placeholder="Enter password" /><br />
    <button onclick="registerUser(email.value, password.value)">
      Register
    </button>
  </body>
</html>
